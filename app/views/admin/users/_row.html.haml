%li.user-list-item
    .user-list-photo
    .user-list-links
        = action_to 'View', admin_user_path(user), glyph: 'eye'
        = action_to 'Edit', edit_admin_user_path(user), glyph: 'edit'
    .user-list-item-content
        = link_to admin_user_path(user), class: 'user-list-title' do
            .user-list-name= user.full_name
            .user-list-login= user.login
        .user-list-status
            - if not user.password_set?
                - if not user.reset_pending?
                    No password set
                    = action_to 'Send instructions', admin_user_reset_password_path(user), method: 'post', glyph: 'key'
                - elsif user.reset_expired?
                    Password reset expired
                    = action_to 'Renew', admin_user_reset_password_path(user), method: 'post', glyph: 'key'
                - else
                    Password initialization pending
            - else
                - if user.reset_expired?
                    Password reset expired
                    = action_to 'Renew', admin_user_reset_password_path(user), method: 'post', glyph: 'key'
                - elsif user.reset_pending?
                    Password reset pending
                - else
                    Valid account
                    = action_to 'Reset password', admin_user_reset_password_path(user), method: 'post', glyph: 'key'
        .user-list-role
            = user.role_type || content_tag(:em, "No role")
            - if user.is_student?
                &#8226; #{user.as_student.school_class.name}
